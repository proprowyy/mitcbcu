/*
*Copyright (c) 2012,
*All right reserved.
*
*文件名称：zhw_read_from_db_test.c
*文件标识：读取配置文件
*摘  要：设备上电之后从I/O口获得设备的相关参数，根据参数读取配置表中的相关设置，获取IP地址。
*接受参数：无
*返回数据：将获得的IP地址返回给用户。
*
*当前版本：00.00.01
*作  者：周魏
*完成日期：
*
*取代版本：原版本号
*原作者 ：
*完成时间：
*/


#include <stdio.h>
#include <string.h>
#include "bcu_get_data_from_ccu_type.h"
#include "zhw_read_from_db_test.h"
//整车设备的设备名、设备号、及IP地址表
ip_mac_table_item_t  device_info[]=
{		{"EAMP",7,230,"230.10.10.77","",0},
		{"EAMP",7,231,"230.10.10.66","",0},
		{"EAMP",7,1,"192.168.10.120",{ 0x0,0x90,0x27,0x8c,0x57,0x20},0},
		{"EAMP",7,2,"192.168.10.121",{ 0x0,0x90,0x27,0x8c,0x57,0x21},0},
		{"EAMP",7,3,"192.168.10.122",{ 0x0,0x90,0x27,0x8c,0x57,0x22},0},
		{"EAMP",7,4,"192.168.10.123",{ 0x0,0x90,0x27,0x8c,0x57,0x23},0},
		{"EAMP",7,5,"192.168.10.124",{ 0x0,0x90,0x27,0x8c,0x57,0x24},0},
		{"EAMP",7,6,"192.168.10.125",{ 0x0,0x90,0x27,0x8c,0x57,0x25},0},
		{"EAMP",7,200,"192.168.10.207","",0},
		{"PCU",1,1,"192.168.10.140",{ 0x0,0x90,0x27,0x8c,0x57,0x40},0},
		{"PCU",1,2,"192.168.10.141",{ 0x0,0x90,0x27,0x8c,0x57,0x41},0},
		{"PCU",1,3,"192.168.10.142",{ 0x0,0x90,0x27,0x8c,0x57,0x42},0},
		{"PCU",1,4,"192.168.10.143",{ 0x0,0x90,0x27,0x8c,0x57,0x43},0},
		{"PCU",1,5,"192.168.10.144",{ 0x0,0x90,0x27,0x8c,0x57,0x44},0},
		{"PCU",1,6,"192.168.10.145",{ 0x0,0x90,0x27,0x8c,0x57,0x45},0},
		{"PCU",1,7,"192.168.10.146",{ 0x0,0x90,0x27,0x8c,0x57,0x46},0},
		{"PCU",1,8,"192.168.10.147",{ 0x0,0x90,0x27,0x8c,0x57,0x47},0},
		{"PCU",1,9,"192.168.10.148",{ 0x0,0x90,0x27,0x8c,0x57,0x48},0},
		{"PCU",1,10,"192.168.10.149",{ 0x0,0x90,0x27,0x8c,0x57,0x49},0},
		{"PCU",1,11,"192.168.10.150",{ 0x0,0x90,0x27,0x8c,0x57,0x50},0},
		{"PCU",1,12,"192.168.10.151",{ 0x0,0x90,0x27,0x8c,0x57,0x51},0},
		{"PCU",1,200,"192.168.10.201","",0},
		{"BCU",3,1,"192.168.10.110",{ 0x0,0x90,0x27,0x8c,0x57,0x10},0},
		{"BCU",3,2,"192.168.10.111",{ 0x0,0x90,0x27,0x8c,0x57,0x11},0},
		{"BCU",3,200,"192.168.10.203","",0},
		{"CCU",5,1,"192.168.10.113",{ 0x0,0x90,0x27,0x8c,0x57,0x13},1},
		{"CCU",5,2,"192.168.10.114",{ 0x0,0x90,0x27,0x8c,0x57,0x14},2},
		{"CCU",5,200,"192.168.10.205","",0},
		{"CMU",0,1,"192.168.10.130",{ 0x0,0x90,0x27,0x8c,0x57,0x30},0},
		{"CMU",0,2,"192.168.10.131",{ 0x0,0x90,0x27,0x8c,0x57,0x31},0},
		{"CMU",0,232,"230.10.10.45","",0},
		{"CMU",0,200,"192.168.10.200","",0},
		{"CMU",0,230,"230.10.10.58","",0},
		{"HEART",8,230,"230.10.10.88","",0},
		{"HEART",8,231,"230.10.10.89","",0},
		{"PCU",1,230,"230.10.10.22","",0},//<wilson add for all pcu
		{"CC",8,230,"192.168.10.200","",0},
		{"PC",8,230,"230.10.10.57","",0},
		{"BCU",3,230,"230.10.10.55","",0},
		{"CCU",5,230,"230.10.10.44","",0}, ///< add,0803
	//	{"EAMP",7,230,"230.10.10.77","",0},
		
		{"BCU", 3,MUL_SYNC_DST_NO, "230.10.10.100", "", 0},  ///< add for sync, 2013
		{"CCU", 5,MUL_SYNC_DST_NO, "230.10.10.101", "", 0},	///< add for sync, 2013
		{"EAMP", 7,MUL_SYNC_DST_NO, "230.10.10.102", "", 0}, ///< add for sync, 2013
		{"PCU", 1,MUL_SYNC_DST_NO, "230.10.10.103", "", 0}, ///< add for sync, 2013
		{"CMU", 0,BCU_CMU_CAR_CONNECT_PACKAGE, "230.10.10.86", "", 0},

#if 0
		{"EAMP",7,1,"192.168.7.20",{ 0x0,0x90,0x27,0x8c,0x57,0x20},0},
		{"EAMP",7,2,"192.168.7.21",{ 0x0,0x90,0x27,0x8c,0x57,0x21},0},
		{"EAMP",7,3,"192.168.7.22",{ 0x0,0x90,0x27,0x8c,0x57,0x22},0},
		{"EAMP",7,4,"192.168.7.23",{ 0x0,0x90,0x27,0x8c,0x57,0x23},0},
		{"EAMP",7,5,"192.168.7.24",{ 0x0,0x90,0x27,0x8c,0x57,0x24},0},
		{"EAMP",7,6,"192.168.7.25",{ 0x0,0x90,0x27,0x8c,0x57,0x25},0},
		{"EAMP",7,200,"192.168.7.207","",0},
		{"PCU",1,1,"192.168.7.40",{ 0x0,0x90,0x27,0x8c,0x57,0x40},0},
		{"PCU",1,2,"192.168.7.41",{ 0x0,0x90,0x27,0x8c,0x57,0x41},0},
		{"PCU",1,3,"192.168.7.42",{ 0x0,0x90,0x27,0x8c,0x57,0x42},0},
		{"PCU",1,4,"192.168.7.43",{ 0x0,0x90,0x27,0x8c,0x57,0x43},0},
		{"PCU",1,5,"192.168.7.44",{ 0x0,0x90,0x27,0x8c,0x57,0x44},0},
		{"PCU",1,6,"192.168.7.45",{ 0x0,0x90,0x27,0x8c,0x57,0x45},0},
		{"PCU",1,7,"192.168.7.46",{ 0x0,0x90,0x27,0x8c,0x57,0x46},0},
		{"PCU",1,8,"192.168.7.47",{ 0x0,0x90,0x27,0x8c,0x57,0x47},0},
		{"PCU",1,9,"192.168.7.48",{ 0x0,0x90,0x27,0x8c,0x57,0x48},0},
		{"PCU",1,10,"192.168.7.49",{ 0x0,0x90,0x27,0x8c,0x57,0x49},0},
		{"PCU",1,11,"192.168.7.50",{ 0x0,0x90,0x27,0x8c,0x57,0x50},0},
		{"PCU",1,12,"192.168.7.51",{ 0x0,0x90,0x27,0x8c,0x57,0x51},0},
		{"PCU",1,200,"192.168.7.201","",0},
		{"BCU",3,1,"192.168.7.10",{ 0x0,0x90,0x27,0x8c,0x57,0x10},0},
		{"BCU",3,2,"192.168.7.11",{ 0x0,0x90,0x27,0x8c,0x57,0x11},0},
		{"BCU",3,200,"192.168.7.203","",0},
		{"CCU",5,1,"192.168.7.13",{ 0x0,0x90,0x27,0x8c,0x57,0x13},1},
		{"CCU",5,2,"192.168.7.14",{ 0x0,0x90,0x27,0x8c,0x57,0x14},2},
		{"CCU",5,200,"192.168.7.205","",0},
		{"CMU",0,1,"192.168.7.30",{ 0x0,0x90,0x27,0x8c,0x57,0x30},0},
		{"CMU",0,2,"192.168.7.31",{ 0x0,0x90,0x27,0x8c,0x57,0x31},0},
		{"CMU",0,232,"230.10.10.45","",0},
		{"CMU",0,200,"192.168.7.200","",0},
		{"CMU",0,230,"230.10.10.58","",0},
		{"HEART",8,230,"230.10.10.88","",0},
		{"HEART",8,231,"230.10.10.89","",0},
		{"PCU",1,230,"230.10.10.22","",0},//<wilson add for all pcu
		{"CC",8,230,"230.10.10.56","",0},
		{"PC",8,230,"230.10.10.57","",0},
		{"BCU",3,230,"230.10.10.55","",0},
		{"CCU",5,230,"230.10.10.44","",0}, ///< add,0803
		//{"EAMP",7,230,"230.10.10.77","",0},
		{"EAMP",7,231,"230.10.10.66","",0},
		{"BCU", 3,MUL_SYNC_DST_NO, "230.10.10.100", "", 0},  ///< add for sync, 2013
		{"CCU", 5,MUL_SYNC_DST_NO, "230.10.10.101", "", 0},	///< add for sync, 2013
		{"EAMP", 7,MUL_SYNC_DST_NO, "230.10.10.102", "", 0}, ///< add for sync, 2013
		{"PCU", 1,MUL_SYNC_DST_NO, "230.10.10.103", "", 0}, ///< add for sync, 2013
		{"CMU", 0,BCU_CMU_CAR_CONNECT_PACKAGE, "230.10.10.86", "", 0},
#endif
};
unsigned int device_info_items = sizeof(device_info) / sizeof(device_info[0]);

/*
 *   	@brief	本函数的功能是根据所给的设备名和设备号责解析出设备的IP地址；
 *     @param device_name 需要解析的设备名
 *     @param device_number 	需要解析的设备号
 *     @return   device_ip  相应设备的IP地址
 */
int ZhwReadFromTestDB(int *row, int *column,void **point)
{
//	net_debug_printf(("I am success entry ZhwReadFromTestDB function!\n"));
	int test_column = TEST_COLUMN;
	int test_row = 0;
	int *column_mark;
	int *row_mark;

   test_row = device_info_items;
	
	column_mark = &test_column;
	row_mark = &test_row;
	memcpy(column,column_mark,sizeof(column_mark));
	memcpy(row,row_mark,sizeof(row_mark));
//	net_debug_printf(("in ZhwReadFromTestDB function the row number is:%d,the column number is:%d\n",*row,*column));

	*point = device_info;

//	net_debug_printf(("I am success exit ZhwReadFromTestDB function!\n"));
	return 1;
}
